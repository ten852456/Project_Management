<div class="group">
    <div class="dailyPage" *ngIf="showDailyTable">
        <mat-form-field appearance="outline" style="position: absolute;">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="datepicker" [(ngModel)]="selectedValue" (dateInput)="addEvent($event)" >
            <mat-datepicker-toggle matSuffix [for]="datepicker" >
                <mat-icon matDatepickerToggleIcon>
                    calendar_month
                </mat-icon>
            </mat-datepicker-toggle>
        <mat-datepicker #datepicker>
                <mat-datepicker-actions>
                    <button mat-button matDatepickerCancel>Cancel</button>
                    <button mat-raised-button color="primary" matDatepickerApply
                        (click)="showTable()">Apply</button>
                </mat-datepicker-actions>
            </mat-datepicker>
        </mat-form-field>

        <div class="datepicker-footer" #datepickerFooter>
            <mat-button-toggle-group #toggleGroup="matButtonToggleGroup" name="fontStyle" aria-label="Font Style">
                <mat-button-toggle (click)="dailyTable()">Daily</mat-button-toggle>
                <mat-button-toggle  (click)="weeklyTable()">Weekly</mat-button-toggle>
                <mat-button-toggle (click)="projectTable()">Project</mat-button-toggle>
            </mat-button-toggle-group>
        </div>

        <div *ngFor="let project of projects">
            <div *ngIf = "project.addHours.length !=0; ">              
                <table mat-table [dataSource]="project.addHours" class="mat-elevation-z8" [formGroup]="form" >
                    <ng-container matColumnDef="title" >
                        <th mat-header-cell *matHeaderCellDef>{{project.title}}</th>
                        <td mat-cell *matCellDef="let element"> {{element.displayText}} </td>
                    </ng-container>
                    <ng-container matColumnDef="specs">
                        <th mat-header-cell *matHeaderCellDef> Specs </th>
                        <td mat-cell *matCellDef="let element">
                            <mat-form-field appearance="outline" class="spentTime">
                                <input formControlName="s1Hours" matInput [(ngModel)]="element.specs">
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="implement">
                        <th mat-header-cell *matHeaderCellDef> Implement </th>
                        <td mat-cell *matCellDef="let element">
                            <mat-form-field appearance="outline" class="spentTime">
                                <input formControlName= "s2Hours"  matInput [(ngModel)]="element.implement" >
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="fixingSpecs">
                        <th mat-header-cell *matHeaderCellDef> Fix Specs </th>
                        <td mat-cell *matCellDef="let element">
                            <mat-form-field appearance="outline" class="spentTime">
                                <input formControlName= "s3Hours" matInput [(ngModel)]="element.fixingSpecs">
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="fixingImplement">
                        <th mat-header-cell *matHeaderCellDef> Fix Implement </th>
                        <td mat-cell *matCellDef="let element">
                            <mat-form-field appearance="outline" class="spentTime">
                                <input formControlName= "s4Hours" matInput [(ngModel)]="element.fixingImplement">
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="symbol">
                        <th mat-header-cell *matHeaderCellDef> Edit  
                            </th>
                        <td mat-cell *matCellDef="let element; let i = index">
                            <button mat-raised-button color="primary" (click)="submitHours(element.id)">save</button>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="addHoursColumn"></tr>
                    <tr mat-row *matRowDef="let row; columns: addHoursColumn;"></tr>
                </table>
                
                
               
          </div>
         
         
        </div>
       
    </div>

    <div class="weeklyPage" *ngIf="showWeeklyTable">
        <mat-form-field appearance="outline" style="position: absolute;">
            <mat-label>Choose a date</mat-label>
            <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                <input matStartDate formControlName="start" placeholder="Start date" />
                <input matEndDate formControlName="end" placeholder="End date" />
            </mat-date-range-input>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>

        <mat-button-toggle-group #toggleGroup="matButtonToggleGroup" name="fontStyle" aria-label="Font Style">
            <mat-button-toggle value="bold" (click)="dailyTable()">Daily</mat-button-toggle>
            <mat-button-toggle value="italic" (click)="weeklyTable()">Weekly</mat-button-toggle>
            <mat-button-toggle value="underline" (click)="projectTable()">Project</mat-button-toggle>
        </mat-button-toggle-group>

        <div *ngFor="let project of projects">
           
                <table mat-table [dataSource]="project.dailyCards" class="mat-elevation-z8">
                    <ng-container matColumnDef="title">
                        <th mat-header-cell *matHeaderCellDef> {{project.title}}</th>
                        <td mat-cell *matCellDef="let element">
                            {{element.card.displayText}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef>Projects Total </td>
                    </ng-container>
                    <ng-container matColumnDef="specs">
                        <th mat-header-cell *matHeaderCellDef> Specs </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.s1Hours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumSpecs}}</td>
                    </ng-container>
                    <ng-container matColumnDef="implement">
                        <th mat-header-cell *matHeaderCellDef> Implement </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.s2Hours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumImplement}}</td>
                    </ng-container>
                    <ng-container matColumnDef="fixingSpecs">
                        <th mat-header-cell *matHeaderCellDef> Fix Specs </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.s3Hours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumFixingSpecs}}</td>
                    </ng-container>
                    <ng-container matColumnDef="fixingImplement">
                        <th mat-header-cell *matHeaderCellDef> Fix Implement </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.s4Hours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumFixingImplement}}</td>
                    </ng-container>
                    <ng-container matColumnDef="sumEachTestCard">
                        <th mat-header-cell *matHeaderCellDef> Summary</th>
                        <td mat-cell *matCellDef="let element">
                            {{element.sumHours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumAllTestCard}}</td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns" class="example-first-row"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;  "></tr>
                    <tr mat-footer-row *matFooterRowDef="displayedColumns" class="example-first-footer-row"></tr>
                </table>
  
        </div>
       
    </div>

    <div class="projectPage" *ngIf="showProjectTable">
        <mat-button-toggle-group #toggleGroup="matButtonToggleGroup" name="fontStyle" aria-label="Font Style">
            <mat-button-toggle value="bold" (click)="dailyTable()">Daily</mat-button-toggle>
            <mat-button-toggle value="italic" (click)="weeklyTable()">Weekly</mat-button-toggle>
            <mat-button-toggle value="underline" (click)="projectTable()">Project</mat-button-toggle>
        </mat-button-toggle-group>
        <div *ngFor="let project of projects">
           <div *ngIf="project.sumAllTestCard !=0">
                <table mat-table [dataSource]="project.dailyCards" class="mat-elevation-z8">
                    <ng-container matColumnDef="title">
                        <th mat-header-cell *matHeaderCellDef> {{project.title}}</th>
                        <td mat-cell *matCellDef="let element">
                            {{element.card.displayText}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef>Projects Total </td>
                    </ng-container>
                    <ng-container matColumnDef="specs">
                        <th mat-header-cell *matHeaderCellDef> Specs </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.s1Hours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumSpecs}} </td>
                    </ng-container>
                    <ng-container matColumnDef="implement">
                        <th mat-header-cell *matHeaderCellDef> Implement </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.s2Hours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumImplement}} </td>
                    </ng-container>
                    <ng-container matColumnDef="fixingSpecs">
                        <th mat-header-cell *matHeaderCellDef> Fix Specs </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.s3Hours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumFixingSpecs}} </td>
                    </ng-container>
                    <ng-container matColumnDef="fixingImplement">
                        <th mat-header-cell *matHeaderCellDef> Fix Implement </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.s4Hours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumFixingImplement}} </td>
                    </ng-container>
                    <ng-container matColumnDef="sumEachTestCard">
                        <th mat-header-cell *matHeaderCellDef> Summary</th>
                        <td mat-cell *matCellDef="let element">
                            {{element.sumHours}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{project.sumAllTestCard}} </td>
                    </ng-container>
                   

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;  "></tr>
                    <tr mat-footer-row *matFooterRowDef="displayedColumns" class="example-first-footer-row"></tr>
                </table>
            </div>
        </div>

    </div>
 
   
</div>